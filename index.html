<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Heart with Triangles</title>
  <style>
    body {
      margin: 0;
      background-color: #F4C2C2;
      overflow: hidden;
    }
    canvas {
      display: block;
    }
  </style>
</head>
<body>
  <canvas id="canvas"></canvas>

  <script>
    const canvas = document.getElementById("canvas");
    const ctx = canvas.getContext("2d");

    function resize() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }
    resize();
    window.addEventListener("resize", resize);

    const centerX = canvas.width / 2;
    const centerY = canvas.height / 2;
    const scale = Math.min(canvas.width, canvas.height) * 0.03;

    let points = [];
    let t = 0;
    const dt = 0.1;

    function heartX(t) {
      return 16 * Math.pow(Math.sin(t), 3);
    }

    function heartY(t) {
      return 13 * Math.cos(t) - 5 * Math.cos(2 * t) - 2 * Math.cos(3 * t) - Math.cos(4 * t);
    }

    function drawTriangle(p1, p2, center) {
      ctx.beginPath();
      ctx.moveTo(p1.x, p1.y);
      ctx.lineTo(p2.x, p2.y);
      ctx.lineTo(center.x, center.y);
      ctx.closePath();

      ctx.fillStyle = `rgba(255, 105, 180, 0.2)`; // нежно-розовый, полупрозрачный
      ctx.fill();
    }

    function animate() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      // рисуем все треугольники
      for (let i = 1; i < points.length; i++) {
        drawTriangle(points[i - 1], points[i], { x: centerX, y: centerY });
      }

      // добавляем следующую точку
      if (t <= Math.PI * 2) {
        const x = centerX + heartX(t) * scale;
        const y = centerY - heartY(t) * scale; // инвертируем Y
        points.push({ x, y });
        t += dt;
      }

      requestAnimationFrame(animate);
    }

    animate();
  </script>
</body>
</html>
